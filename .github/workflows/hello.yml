# This is a basic workflow to help you get started with Actions

name: GCP Github Action

# Controls when the action will run. Triggers the workflow on push or pull request
# events but only for the master branch
on:
  push:
    branches: [master]

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      #     - uses: convictional/gcp-github-action@v1.0.1

      # Runs a single command using the runners shell
      # - name: GCP Github Action
      #   uses: convictional/gcp-github-action@v1.0.1

      #   with:
      #     # These are the IAM credentials that will be set up.
      #     #         application_credentials: # optional
      #     # The project id that the commands will be associated with.
      #     project_id: uri-test
      #     # Takes an array of raw strings that executes on the GCloud Docker image.
      #     #         commands: # optional
      #     # Takes a raw string that executes on the GCloud Docker image.
      #     command: gcloud builds submit
      - name: Google Cloud Platform (GCP) CLI - gcloud1
        uses: actions-hub/gcloud@294.0.1
        env:
          PROJECT_ID: uri-test
          # APPLICATION_CREDENTIALS: ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAidXJpLXRlc3QiLAogICJwcml2YXRlX2tleV9pZCI6ICIwNTY2Y2VjOGMwZWY3NjViZTBmMTQxZGIwYTdhYmQyNzE5NmMzZTZhIiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXG5NSUlFdlFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLY3dnZ1NqQWdFQUFvSUJBUUNSWk9mQk1kRG9icnZXXG5IeFZLMnIvV0kyZkcvcEJLVExyS2NnYjc3LzdqU29yUHA3RFFvc1AybllFWEZFTXFWaDRGUVhHazVLRHVMc09NXG5oMzZaazNGQW9Ga3N4RXd1cnpMcVJ2NkNJTEtNQ1ZXZGJzQjF4RWNmWVk1R0o4dFE2MmF1MFQ5WG1oVTcwWTJoXG5ZYmFucmgva0dxVndLM1NVYlpUM2RqbDJjVmpvdXFITHdsS2QydnEvaytGUTBINGI3ZUFzT29xWndWY0ZJRDJBXG43NzhXMGhJMERZeUNVMXVGdXI2RmZONkJ3TlRqcG9McXhpN09TWXZ1L1ZvUWRHWHJMRVg3UlNORDlTT0R1NTFKXG54QzFlU2RTNm15aFA1UExPbFJUTUQ1dWpLWVNUeWJsL2hIWSs3SkY4S0N0SWY3VGhkd2lPQXVQNkJXdDhVb05tXG5ibnhub21MTkFnTUJBQUVDZ2dFQU03WU15MlM1WllIRTR1SUpRNmRMcFpEUUh6RjVCa1FHQjJ6STJTQkJxbnRmXG5wWDJCNEtLVFNnbzQySW1IWGU1bEhQOXF1UGZyMk9yZStBTlUzckJYRG1JNWRUZVgxTjdSSUF3Q0J5d3o5S1I1XG5ROVlaTTRtTXRqZVBUNXBsc0xFWXcwSis0ZHhXZ3dFRCs0cnlXTzhRUHFQUGhYYWZMdzlPZFRraU5PTVplU1FtXG5tbGpNMzBxOTI3VmVRN0xRampRb2tOaS9tZExiNUY5TE9VYitKSkdJY2FMZ2NKT0lYa1haNjNkZkZpbEh4aGFMXG5UYmFxeU9CU2NMcUI4Ri9EZnptZjdURmxsdnQ1TCtoaS9TMFJkQTQ0TEYxMm5jRFdleW1GQXUrc3pMZnhhK0lvXG5GUlJpN0xZQU5ub0RmUFhsLzNQejNFQy9KbjFzQjltU2R1ZXdWL2tTalFLQmdRRERZVVRNb2kvYTdaQ2VrdlNIXG5xeUplYUtMOHpZSURoT2NrT3NMQ3RzQlFSWUowYUVpaHZ2KzlETWErNTBJM2hMYm5wQVpjRTJwOFhFWXdSMEVZXG5pVldoZjg4a2hobmFCMU9VYWtLN20wQkg5Z3c2dzJscDJCRFhPUWVoUUV5VFJJSWMwcEl2Z1J0RlRqQ3pCbHJIXG5DOWZDTGNicnJhUVEvQWgzVUlScXBLTTE1d0tCZ1FDK2dWZGR6b0xXWWtVNVpQd2c5SVFMTnZtRysyK09IUzFvXG5DWDR3UzlJTHM3UmJJdUluME9CU3pxa0dtY0UwWkhUMDFzU21jT2FEeFgxck8vYTdyQ0xsSGxnd255aWpPK0FxXG5vNlgzYnVQYXB1aVUxbSt4WVVVcDl3TUVSd1kyK2R3SSthVk1HWjBDU0E4OHN0QTZ3VFNkMzlEVDFTVFNOaWkrXG5ZR0JvUHFCakt3S0JnUUNTeGpLYUM4a3BqVWdVYUU5OHo4b2M1RHgwNzZtWkhURkxIVDJNYXgrajdlUG5zU1BIXG5KcVlXRGxBTHY4MFZ5Z1JobGU0Vkk1emVXYTk4dXpxaXhTRG9Gd3kwNG16dlJvdTZOZTExNUZadytOME5GQm5QXG5vcnBjQklLLzEzN3ZMd3NUdmZpRjZWWmtSUzMrZjJxWWwwUDVvc3dKNXNNVzQwODAydTd1OGttTnh3S0JnRS9lXG5RaGFlQWRTSGxxWWRaR2NjbkU5bldPM3lkQzZNcFFDOUdoNTlheTVreFBTQWgzaFI1ZnBSa2lPbVNvNEFuOWdXXG5RcFBWT1k5OU9MdkFoQXppZWk2OHJoU1VaYUVwOVMxck5xV3A0L1ZEakxiNXdCSUp5Y2x5T2QyTk9WbkxIeWpVXG5JU3pxZ0J6NHdRcWRuUmRFOFI1UE8yblVMbi9ESFFuVHRoZCtTaGZKQW9HQUxJRzhmQjNsRG1haklKdzBIM3AvXG5uaER4UExFSXVZNUtNOVU2WXpuNGJNa3JodUlHRjg4OVRjMmNnSmRUZmYxTzlQM3lVYzhZbitsRG9hRFFlS1g0XG5lSTcxY1UzVU9ucko3MjVKVW9kUVdSWlRFWDQ2MTQraFM3RXFEdXdWbitieVpmazdQNW9GOE9nd2NaN3Y1SjZrXG4zN01BMmlPZVEyaW1QQ3REV0NQNDdsND1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsCiAgImNsaWVudF9lbWFpbCI6ICJvYXV0aDJAdXJpLXRlc3QuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTA2NDAxNDgyNDAxNjA5OTM5ODQ4IiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9vYXV0aDIlNDB1cmktdGVzdC5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIKfQo=
        with:
          # Arguments for the CLI command
          args: gcloud auth login
          # cli command to run (gcloud and gsutil available)
          cli: gcloud # optional, default is gcloud
      - name: Google Cloud Platform (GCP) CLI - gcloud
        uses: actions-hub/gcloud@294.0.1
        env:
          PROJECT_ID: uri-test
          APPLICATION_CREDENTIALS: ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAidXJpLXRlc3QiLAogICJwcml2YXRlX2tleV9pZCI6ICIwNTY2Y2VjOGMwZWY3NjViZTBmMTQxZGIwYTdhYmQyNzE5NmMzZTZhIiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXG5NSUlFdlFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLY3dnZ1NqQWdFQUFvSUJBUUNSWk9mQk1kRG9icnZXXG5IeFZLMnIvV0kyZkcvcEJLVExyS2NnYjc3LzdqU29yUHA3RFFvc1AybllFWEZFTXFWaDRGUVhHazVLRHVMc09NXG5oMzZaazNGQW9Ga3N4RXd1cnpMcVJ2NkNJTEtNQ1ZXZGJzQjF4RWNmWVk1R0o4dFE2MmF1MFQ5WG1oVTcwWTJoXG5ZYmFucmgva0dxVndLM1NVYlpUM2RqbDJjVmpvdXFITHdsS2QydnEvaytGUTBINGI3ZUFzT29xWndWY0ZJRDJBXG43NzhXMGhJMERZeUNVMXVGdXI2RmZONkJ3TlRqcG9McXhpN09TWXZ1L1ZvUWRHWHJMRVg3UlNORDlTT0R1NTFKXG54QzFlU2RTNm15aFA1UExPbFJUTUQ1dWpLWVNUeWJsL2hIWSs3SkY4S0N0SWY3VGhkd2lPQXVQNkJXdDhVb05tXG5ibnhub21MTkFnTUJBQUVDZ2dFQU03WU15MlM1WllIRTR1SUpRNmRMcFpEUUh6RjVCa1FHQjJ6STJTQkJxbnRmXG5wWDJCNEtLVFNnbzQySW1IWGU1bEhQOXF1UGZyMk9yZStBTlUzckJYRG1JNWRUZVgxTjdSSUF3Q0J5d3o5S1I1XG5ROVlaTTRtTXRqZVBUNXBsc0xFWXcwSis0ZHhXZ3dFRCs0cnlXTzhRUHFQUGhYYWZMdzlPZFRraU5PTVplU1FtXG5tbGpNMzBxOTI3VmVRN0xRampRb2tOaS9tZExiNUY5TE9VYitKSkdJY2FMZ2NKT0lYa1haNjNkZkZpbEh4aGFMXG5UYmFxeU9CU2NMcUI4Ri9EZnptZjdURmxsdnQ1TCtoaS9TMFJkQTQ0TEYxMm5jRFdleW1GQXUrc3pMZnhhK0lvXG5GUlJpN0xZQU5ub0RmUFhsLzNQejNFQy9KbjFzQjltU2R1ZXdWL2tTalFLQmdRRERZVVRNb2kvYTdaQ2VrdlNIXG5xeUplYUtMOHpZSURoT2NrT3NMQ3RzQlFSWUowYUVpaHZ2KzlETWErNTBJM2hMYm5wQVpjRTJwOFhFWXdSMEVZXG5pVldoZjg4a2hobmFCMU9VYWtLN20wQkg5Z3c2dzJscDJCRFhPUWVoUUV5VFJJSWMwcEl2Z1J0RlRqQ3pCbHJIXG5DOWZDTGNicnJhUVEvQWgzVUlScXBLTTE1d0tCZ1FDK2dWZGR6b0xXWWtVNVpQd2c5SVFMTnZtRysyK09IUzFvXG5DWDR3UzlJTHM3UmJJdUluME9CU3pxa0dtY0UwWkhUMDFzU21jT2FEeFgxck8vYTdyQ0xsSGxnd255aWpPK0FxXG5vNlgzYnVQYXB1aVUxbSt4WVVVcDl3TUVSd1kyK2R3SSthVk1HWjBDU0E4OHN0QTZ3VFNkMzlEVDFTVFNOaWkrXG5ZR0JvUHFCakt3S0JnUUNTeGpLYUM4a3BqVWdVYUU5OHo4b2M1RHgwNzZtWkhURkxIVDJNYXgrajdlUG5zU1BIXG5KcVlXRGxBTHY4MFZ5Z1JobGU0Vkk1emVXYTk4dXpxaXhTRG9Gd3kwNG16dlJvdTZOZTExNUZadytOME5GQm5QXG5vcnBjQklLLzEzN3ZMd3NUdmZpRjZWWmtSUzMrZjJxWWwwUDVvc3dKNXNNVzQwODAydTd1OGttTnh3S0JnRS9lXG5RaGFlQWRTSGxxWWRaR2NjbkU5bldPM3lkQzZNcFFDOUdoNTlheTVreFBTQWgzaFI1ZnBSa2lPbVNvNEFuOWdXXG5RcFBWT1k5OU9MdkFoQXppZWk2OHJoU1VaYUVwOVMxck5xV3A0L1ZEakxiNXdCSUp5Y2x5T2QyTk9WbkxIeWpVXG5JU3pxZ0J6NHdRcWRuUmRFOFI1UE8yblVMbi9ESFFuVHRoZCtTaGZKQW9HQUxJRzhmQjNsRG1haklKdzBIM3AvXG5uaER4UExFSXVZNUtNOVU2WXpuNGJNa3JodUlHRjg4OVRjMmNnSmRUZmYxTzlQM3lVYzhZbitsRG9hRFFlS1g0XG5lSTcxY1UzVU9ucko3MjVKVW9kUVdSWlRFWDQ2MTQraFM3RXFEdXdWbitieVpmazdQNW9GOE9nd2NaN3Y1SjZrXG4zN01BMmlPZVEyaW1QQ3REV0NQNDdsND1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsCiAgImNsaWVudF9lbWFpbCI6ICJvYXV0aDJAdXJpLXRlc3QuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTA2NDAxNDgyNDAxNjA5OTM5ODQ4IiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9vYXV0aDIlNDB1cmktdGVzdC5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIKfQo=
        with:
          # Arguments for the CLI command
          args: gcloud builds submit
          # cli command to run (gcloud and gsutil available)
          cli: gcloud # optional, default is gcloud

